<html>

<head>
  <style>
    body {
      font-family: 'Roboto', san-serif;
    }
  </style>
  <link rel="import" href="../control-panel.html" />
  <script>

      document.addEventListener('DOMContentLoaded', function() {


        var panel = document.querySelector('pie-control-panel');

        panel.showSession = true;

        panel.env = {
          mode: 'gather',
          role: 'student',
          locale: 'en_US'//,
          //accessibility: {}
        }
        
        function updateInfo(){
          document.querySelector('textarea').value = JSON.stringify(panel.env, null, '  ');  
          setTimeout(updateInfo, 1000);
        }

        updateInfo();
      });

      document.addEventListener('pie.showSession', function(value) {
        document.querySelector('textarea').style.display = (value.detail === true) ? "inline-block" : "none";
      });

    </script>
</head>

<body>
  <h2>pie-control-panel</h2>
  <pie-control-panel></pie-control-panel>

  <textarea rows="20" cols="30" class="info">
    </textarea>
</body>

</html>