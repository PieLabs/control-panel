<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-radio-group/paper-radio-group.html">
<link rel="import" href="../paper-radio-button/paper-radio-button.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<dom-module id="pie-control-panel">
  <style>

    :host{
      /*--paper-radio-group-item-padding: 0px 0px 0px 10px;*/
    }

  </style>

  <template>

    <label id="modeLabel">Mode:</label>
    <paper-radio-group aria-labelledby="modeLabel" selected="{{env.mode}}">
      <paper-radio-button name="gather">gather</paper-radio-button>
      <paper-radio-button name="view">view</paper-radio-button>
      <paper-radio-button name="evaluate">evaluate</paper-radio-button>
    </paper-radio-group>

    <paper-dropdown-menu label="Locale" noink no-animations>
      <paper-menu attr-for-selected="value" class="dropdown-content" selected="{{env.locale}}">
        <paper-item value="en_US">English (US)</paper-item>
        <paper-item value="es_ES">Spanish</paper-item>
      </paper-menu>
    </paper-dropdown-menu>
    
    <paper-dropdown-menu label="Color" noink no-animations>
      <paper-menu attr-for-selected="value" class="dropdown-content" selected="{{env.accessibility.colorContrast}}">
        <paper-item value="black_on_white">Black on White</paper-item>
        <paper-item value="black_on_rose">Black on Rose</paper-item>
        <paper-item value="white_on_black">White on Black</paper-item>
      </paper-menu>
    </paper-dropdown-menu>

  </template>
</dom-module>

<script>
  Polymer({
    is: 'pie-control-panel',
    properties: {
      env: {
        type: Object,
        value: {
          mode: 'gather',
          role: 'student',
          locale: 'en_US'
        },
        observer: 'envChanged'
      }
    },
    observers: [
      'envChanged(env.*)'
    ],
    envChanged: function(newValue, oldValue) {
      this.fire('pie.envChanged', this.env);
    }
  });
</script>